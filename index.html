<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Queens Album</title>
<style>
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: Arial,sans-serif; background:#2a0a49; color:#2a0a49; display:flex; flex-direction:column; align-items:center; min-height:100vh; padding:20px; }
h1 { color:#06ccbd; margin-bottom:15px; text-align:center; font-size:2.2rem; text-shadow:1px 1px 2px #000; }
button { background:#06ccbd; color:#2a0a49; border:none; border-radius:10px; padding:10px 16px; cursor:pointer; margin:5px; font-weight:bold; transition:all 0.2s ease-in-out; }
button:hover { transform:scale(1.05); opacity:0.9; }
#monedas-panel { margin:10px; font-size:18px; font-weight:bold; color:#06ccbd; text-align:center; }
#codigo-container { display:flex; gap:10px; margin:10px 0; width:90%; max-width:500px; }
#codigo-input { flex:1; padding:10px; border-radius:8px; border:none; font-size:16px; }
.grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(80px,1fr)); gap:10px; margin:15px 0; width:90%; }
.cromo { position:relative; cursor:pointer; transition: transform 0.2s ease; }
.cromo img { width:100%; border-radius:8px; border:2px solid #06ccbd; }
.cromo:hover { transform:scale(1.05); }
.cromo span { position:absolute; bottom:5px; right:5px; background:#06ccbd; color:#2a0a49; padding:2px 6px; border-radius:8px; font-size:12px; font-weight:bold; }
.section-title { color:#06ccbd; font-size:1.5rem; text-align:left; margin:20px 0 10px 0; border-bottom:2px solid #06ccbd; padding-bottom:5px; }
#modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.85); justify-content:center; align-items:center; z-index:1000; }
#modal img { max-width:90%; max-height:90%; border-radius:12px; border:5px solid #06ccbd; box-shadow:0 0 20px #06ccbd; }
#modal-close { position:absolute; top:20px; right:30px; font-size:36px; font-weight:bold; color:#fff; cursor:pointer; transition: transform 0.2s ease; }
#modal-close:hover { transform:scale(1.2); }
#filtros { display:flex; gap:10px; margin:15px 0; flex-wrap:wrap; justify-content:center; }
.filtro-btn { background:#06ccbd; color:#2a0a49; border:none; border-radius:8px; padding:8px 12px; font-weight:bold; cursor:pointer; transition:all 0.2s; }
.filtro-btn:hover { opacity:0.9; transform:scale(1.05); }
#btn-vender { display:block; margin:10px auto; background:#06ccbd; color:#2a0a49; border-radius:8px; padding:10px 15px; font-weight:bold; cursor:pointer; transition:all 0.2s; }
#btn-vender:hover { opacity:0.9; transform:scale(1.05); }
@media(max-width:600px){ h1{ font-size:1.8rem;} #codigo-container{ flex-direction:column;} #codigo-input{ width:100%; } }
</style>
</head>
<body>

<h1>Queens Album</h1>
<div id="monedas-panel">Monedas: 0</div>

<div id="filtros">
  <button class="filtro-btn" data-categoria="todos">TODOS</button>
  <button class="filtro-btn" data-categoria="escudo">ESCUDOS</button>
  <button class="filtro-btn" data-categoria="presidenta">PRESIDENTAS/ES</button>
  <button class="filtro-btn" data-categoria="supercampeonas">SUPERCAMPEONAS</button>
</div>

<div>
  <button id="btn-open">Abrir sobre (1000 monedas)</button>
  <button id="btn-album">Ver √°lbum</button>
  <button id="btn-daily">Reclamar diario</button>
  <button id="btn-twitch">Bonus Twitch</button>
  <button id="btn-twitter">Bonus X</button>
</div>

<div id="codigo-container">
  <input type="text" id="codigo-input" placeholder="Introduce tu c√≥digo">
  <button id="btn-canjear">Canjear c√≥digo</button>
</div>

<div id="welcome-screen"></div>
<div id="pack-view"><div id="last-pack"></div></div>

<div id="album-view">
  <h2 class="section-title">ESCUDOS</h2>
  <div id="escudos-grid" class="grid"></div>
  <h2 class="section-title">PRESIDENTAS/ES</h2>
  <div id="presidentes-grid" class="grid"></div>
  <h2 class="section-title">SUPERCAMPEONAS</h2>
  <div id="super-grid" class="grid"></div>
</div>

<div id="modal">
  <span id="modal-close">&times;</span>
  <img id="modal-img" src="" alt="Cromo">
</div>

<script>
// Variables principales
const REVERSO="https://i.ibb.co/F443KZqx/00-REVERSO.png";
const CARDS=[ /* Aqu√≠ van todas tus cartas, igual que en tu app original */ ];
let monedas=parseInt(localStorage.getItem("monedas_queens"))||2000;
let album=JSON.parse(localStorage.getItem("album_queens"))||{};
const monedasPanel=document.getElementById("monedas-panel");
const welcome=document.getElementById("welcome-screen");
const packView=document.getElementById("pack-view");
const albumView=document.getElementById("album-view");
const escudosGrid=document.getElementById("escudos-grid");
const presidentesGrid=document.getElementById("presidentes-grid");
const superGrid=document.getElementById("super-grid");
const lastPack=document.getElementById("last-pack");
const modal=document.getElementById("modal");
const modalImg=document.getElementById("modal-img");
const modalClose=document.getElementById("modal-close");
modalClose.onclick=()=>{ modal.style.display="none"; }

// Funciones
function updateMonedas(){ monedasPanel.textContent="Monedas: "+monedas; localStorage.setItem("monedas_queens",monedas); }
updateMonedas();
function hideWelcome(){ welcome.style.display="none"; }

// Mostrar √°lbum con filtro
function mostrarAlbum(categoriaFiltro="todos"){
  hideWelcome();
  albumView.style.display="block";
  packView.style.display="none";
  escudosGrid.innerHTML=""; presidentesGrid.innerHTML=""; superGrid.innerHTML="";
  const cartasOrdenadas=CARDS.slice().sort((a,b)=>a.id-b.id);
  let totalCartas=CARDS.length;
  let obtenidas=Object.keys(album).reduce((acc,id)=>acc+1,0);
  let albumCont=document.createElement("p");
  albumCont.style.textAlign="center";
  albumCont.textContent=`Cartas obtenidas: ${obtenidas}/${totalCartas}`;
  albumView.insertBefore(albumCont, escudosGrid);
  if(!document.getElementById("btn-vender")){
    const duplicadasBtn=document.createElement("button");
    duplicadasBtn.id="btn-vender";
    duplicadasBtn.textContent="Vender duplicadas (+100 monedas c/u)";
    duplicadasBtn.style.display="block"; duplicadasBtn.style.margin="10px auto"; duplicadasBtn.onclick=()=>{
      let ganancia=0;
      for(const key in album){ if(album[key]>1){ ganancia+=(album[key]-1)*100; album[key]=1; } }
      if(ganancia>0){ monedas+=ganancia; updateMonedas(); localStorage.setItem("album_queens",JSON.stringify(album)); mostrarAlbum(categoriaFiltro); alert(`Has vendido duplicadas y recibido ${ganancia} monedas.`); }
      else alert("No tienes duplicadas para vender.");
    };
    albumView.appendChild(duplicadasBtn);
  }
  cartasOrdenadas.forEach(card=>{
    if(categoriaFiltro!=="todos"&&card.tipo!==categoriaFiltro) return;
    const div=document.createElement("div"); div.classList.add("cromo");
    const img=document.createElement("img"); img.src=album[card.id]?card.imagen:REVERSO; img.alt=card.nombre;
    img.addEventListener("click",()=>{ modal.style.display="flex"; modalImg.src=card.imagen; modalImg.style.border="5px solid #fff"; });
    if(album[card.id]&&album[card.id]>1){ let count=document.createElement("span"); count.textContent=album[card.id]; div.appendChild(count); }
    div.appendChild(img);
    if(card.tipo==="escudo") escudosGrid.appendChild(div);
    else if(card.tipo==="presidenta") presidentesGrid.appendChild(div);
    else superGrid.appendChild(div);
  });
}

// Abrir sobre
function abrirSobre(){
  if(monedas<1000){ alert("No tienes suficientes monedas."); return; }
  hideWelcome();
  monedas-=1000; updateMonedas();
  packView.style.display="block"; albumView.style.display="none";
  lastPack.innerHTML="<h3>¬°Has abierto un sobre! üéÅ</h3><div class='grid'></div>";
  const grid=lastPack.querySelector(".grid");
  for(let i=0;i<5;i++){
    const c=CARDS[Math.floor(Math.random()*CARDS.length)];
    const div=document.createElement("div"); div.classList.add("cromo");
    const img=document.createElement("img"); img.src=c.imagen; img.alt=c.nombre;
    img.addEventListener("click",()=>{ modal.style.display="flex"; modalImg.src=c.imagen; modalImg.style.border="5px solid #fff"; });
    div.appendChild(img); grid.appendChild(div); album[c.id]=(album[c.id]||0)+1;
  }
  localStorage.setItem("album_queens",JSON.stringify(album));
}

// Eventos principales
document.getElementById("btn-open").addEventListener("click",abrirSobre);
document.getElementById("btn-album").addEventListener("click",()=>mostrarAlbum());
document.getElementById("btn-daily").addEventListener("click",()=>{
  const last=localStorage.getItem("last_daily"); const now=Date.now();
  if(!last||now-last>24*60*60*1000){ monedas+=2000; updateMonedas(); localStorage.setItem("last_daily",now); alert("Has reclamado 2000 monedas diarias üéâ"); }
  else alert("Ya reclamaste hoy ‚è∞");
});
document.getElementById("btn-twitch").addEventListener("click",()=>{
  if(!localStorage.getItem("bonus_twitch")){ monedas+=10000; updateMonedas(); localStorage.setItem("bonus_twitch","true"); alert("Has reclamado 10000 monedas por Twitch üéÆ"); window.open("https://twitch.tv/izandhh","_blank"); }
  else alert("Ya reclamaste este bonus.");
});
document.getElementById("btn-twitter").addEventListener("click",()=>{
  if(!localStorage.getItem("bonus_twitter")){ monedas+=10000; updateMonedas(); localStorage.setItem("bonus_twitter","true"); alert("Has reclamado 10000 monedas por X üê¶"); window.open("https://x.com/izandhh","_blank"); }
  else alert("Ya reclamaste este bonus.");
});

// C√≥digos
const CODIGOS={"AroneyGonzalez":10000,"MarSerracanta":10000,"ElenaBenitez":10000,"MenendezFaya":10000,"AndreaChini":10000,"ElTronoKL":10000,"UniversoKings":10000,"SRonzero":10000,"ZonaRayo":10000,"Porcinismoo":10000,"NarcisBoza":10000,"NikolRamos":10000,"ZonaMostoles":10000,"CZXR":10000};
document.getElementById("btn-canjear").addEventListener("click",()=>{
  const input=document.getElementById("codigo-input"); const codigo=input.value.trim();
  if(!codigo) return alert("Introduce un c√≥digo v√°lido.");
  const usado=JSON.parse(localStorage.getItem("codigos_usados")||"[]");
  if(usado.includes(codigo)){ alert("Este c√≥digo ya fue canjeado ‚ùå"); return; }
  if(CODIGOS[codigo]){ monedas+=CODIGOS[codigo]; updateMonedas(); usado.push(codigo); localStorage.setItem("codigos_usados",JSON.stringify(usado)); alert(`¬°C√≥digo v√°lido! Has recibido ${CODIGOS[codigo]} monedas üéâ`); input.value=""; }
  else alert("C√≥digo incorrecto ‚ùå");
});

// Modal
modal.addEventListener("click", e=>{ if(e.target===modal) modal.style.display="none"; });

// Filtros
document.querySelectorAll(".filtro-btn").forEach(btn=>{ btn.addEventListener("click",()=>{ const cat=btn.getAttribute("data-categoria"); mostrarAlbum(cat); }); });
</script>
</body>
</html>

